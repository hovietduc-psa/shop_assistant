<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Assistant AI - Customer Support Chat</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="chat-container">
        <!-- Chat Header -->
        <header class="chat-header">
            <div class="header-content">
                <div class="bot-avatar">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1L9 7V9C9 10.1 9.9 11 11 11H13V22C13 22.6 13.4 23 14 23H18C18.6 23 19 22.6 19 22V11H21C22.1 11 23 10.1 23 9Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="header-info">
                    <h1>Shop Assistant AI</h1>
                    <p class="status-indicator">
                        <span class="status-dot online" id="connectionStatus"></span>
                        <span id="connectionText">Online - Ready to help</span>
                    </p>
                </div>
                <div class="header-actions">
                    <button class="icon-btn" id="clearChatBtn" title="Clear chat">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M3 6H21M8 6V4C8 3.4 8.4 3 9 3H15C15.6 3 16 3.4 16 4V6M10 11V17M14 11V17M5 6L6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19L19 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Chat Messages -->
        <main class="chat-messages" id="chatMessages">
            <div class="welcome-message">
                <div class="bot-avatar large">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1L9 7V9C9 10.1 9.9 11 11 11H13V22C13 22.6 13.4 23 14 23H18C18.6 23 19 22.6 19 22V11H21C22.1 11 23 10.1 23 9Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="welcome-content">
                    <h2>Welcome to Shop Assistant AI! 👋</h2>
                    <p>I'm here to help you find products, check orders, and answer any questions about our store. How can I assist you today?</p>
                    <div class="suggested-questions">
                        <button class="suggestion-btn" data-message="What products do you have available?">
                            📦 What products do you have available?
                        </button>
                        <button class="suggestion-btn" data-message="Can you help me find personalized gifts under $50?">
                            🎁 Help me find personalized gifts under $50
                        </button>
                        <button class="suggestion-btn" data-message="What's your return policy?">
                            📋 What's your return policy?
                        </button>
                        <button class="suggestion-btn" data-message="How can I track my order?">
                            📦 How can I track my order?
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Chat Input -->
        <footer class="chat-input-container">
            <div class="input-wrapper">
                <button class="attach-btn" title="Attach file (coming soon)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M21.44 11.05L12.25 20.25C10.9 21.6 8.7 21.6 7.35 20.25C6 18.9 6 16.7 7.35 15.35L16.55 6.15C17.45 5.25 18.9 5.25 19.8 6.15C20.7 7.05 20.7 8.5 19.8 9.4L10.6 18.6C10.15 19.05 9.45 19.05 9 18.6C8.55 18.15 8.55 17.45 9 17L18.2 7.8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <textarea
                    id="messageInput"
                    placeholder="Type your message..."
                    rows="1"
                    maxlength="2000"
                ></textarea>
                <button
                    id="sendBtn"
                    class="send-btn"
                    title="Send message (Enter)"
                    disabled
                >
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M22 2L11 13M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <div class="input-footer">
                <span class="char-count" id="charCount">0 / 2000</span>
                <span class="powered-by">Powered by AI • Press Enter to send, Shift+Enter for new line</span>
            </div>
        </footer>
    </div>

    <!-- Typing indicator -->
    <div class="typing-indicator" id="typingIndicator" style="display: none;">
        <div class="bot-avatar small">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1L9 7V9C9 10.1 9.9 11 11 11H13V22C13 22.6 13.4 23 14 23H18C18.6 23 19 22.6 19 22V11H21C22.1 11 23 10.1 23 9Z" fill="currentColor"/>
            </svg>
        </div>
        <div class="typing-dots">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <script src="/static/chat.js"></script>
</body>
</html>